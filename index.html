<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Obito Blog</title><meta name="author" content="Obito"><meta name="copyright" content="Obito"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="保持初心">
<meta property="og:type" content="website">
<meta property="og:title" content="Obito Blog">
<meta property="og:url" content="http://www.obito.top/index.html">
<meta property="og:site_name" content="Obito Blog">
<meta property="og:description" content="保持初心">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.obito.top/img/head.jpg">
<meta property="article:author" content="Obito">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.obito.top/img/head.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.obito.top/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":60,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.min.js',
      css: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Obito Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-08-07 23:30:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/rightmenu.css"><span id="fps"></span><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Obito Blog" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.jpg" onerror="onerror=null;src='null'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">50</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/notes/"><i class="fa-fw fa fa-sticky-note"></i><span> Notes</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> About</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about-me/"><i class="fa-fw fa-fw fas fa-medal"></i><span> AboutMe</span></a></li><li><a class="site-page child" href="/about-website/"><i class="fa-fw fa-fw fas fa-envelope-open-text"></i><span> Statement</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/background.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Obito Blog"><span class="site-name">Obito Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/notes/"><i class="fa-fw fa fa-sticky-note"></i><span> Notes</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> About</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about-me/"><i class="fa-fw fa-fw fas fa-medal"></i><span> AboutMe</span></a></li><li><a class="site-page child" href="/about-website/"><i class="fa-fw fa-fw fas fa-envelope-open-text"></i><span> Statement</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Obito Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2025/08/07/TR069%E5%8D%8F%E8%AE%AE%E5%88%9D%E6%8E%A2/" title="TR069协议初探"><img class="post-bg" src="/img/scenery_01.webp" onerror="this.onerror=null;this.src='/img/error.png'" alt="TR069协议初探"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/08/07/TR069%E5%8D%8F%E8%AE%AE%E5%88%9D%E6%8E%A2/" title="TR069协议初探">TR069协议初探</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-07T15:27:58.000Z" title="发表于 2025-08-07 23:27:58">2025-08-07</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-07T15:30:24.787Z" title="更新于 2025-08-07 23:30:24">2025-08-07</time></span></div><div class="content">1. TR069 协议介绍
TR069，全称“Technical Report 069”是由 DSL Forum（一个非盈利性的全球行业联盟,致力于发展宽带网络范，其成员包括通讯、设备、计算机、网络和服务提供商等行业的领先厂商，现已更名为“Broadband Forum”）修订一份技术规范，该规范是应用层的管理协议，命名为“CPE 广域网管理协议（CPE WAN Management Protocol）”，简称 CWMP。这个协议主要用于网管中心远程管理配置数量较大的网络设备。目前主要应用在企业级路由器、一体化皮基站等网络设备的管理，所以 TR069 是一个功能强大的用于数据中心、网管中心管理它所属的所有网络设备的网管协议。
在 TR069 协议定义的网管模型中管理服务器称为自动配置服务器 (ACS)，负责完成对用户终端设备 (CPE) 的管理。ACS 与 CPE 之间的接口称为南向接口，ACS 与运营商的其他网管系统、业务管理系统、计费系统 (OSS/BSS) 之间的接口称为北向接口，TR069 协议主要定义南向接口的标准。
TR069 协议网络拓扑如下图，ACS 是在网络中的服务器 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2025/08/05/AI%E5%88%86%E4%BA%AB%E4%BC%9A/" title="AI分享会"><img class="post-bg" src="/img/scenery_01.webp" onerror="this.onerror=null;this.src='/img/error.png'" alt="AI分享会"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/08/05/AI%E5%88%86%E4%BA%AB%E4%BC%9A/" title="AI分享会">AI分享会</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-05T15:19:58.000Z" title="发表于 2025-08-05 23:19:58">2025-08-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-05T15:33:57.750Z" title="更新于 2025-08-05 23:33:57">2025-08-05</time></span></div><div class="content">AI 的发展史
这几年 AI 的发展十分迅猛，

2022 年年末的 ChatGPT 3.5，大模型对话（起初国内普遍看衰）。
2023 年上半年，ChatGPT4 发布，国内各种大模型也随之蹦了出来，都声称对标 GPT-4，但体验 dddd。
2023 年年末 Copilot 插件和 Cursor 编程，后续的 cursor 接入 claude 让大模型大大提升了生产力。
2024 年，各大厂商逐渐意识到在使用 AI 时数据隐私的重要性，私有化部署浮出水面。
年末的 DeepSeek 横空出世，突然爆火。


新技术的出现，人们往往会展现出担忧和恐惧，其根源在于人们对未知的恐惧以及可能带来的负面影响的担忧。

目前 AI 使用的几种方式：

AI 对话（你问我答）
AI 应用（生成图片、语音和视频等）
嵌入工作流（生成 PPT、AI 智能代码编辑器）
构建 AI 私有知识库
使用 Agent 自动化

大部分人使用 AI，大概都跟我一样，平时常用 AI 对话和生成代码，偶尔用一些现成的服务，例如生成图片、PPT 和翻译文章等，今天来探索一下本地部署模型。
部署 OpenWebUI + ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/12/30/Git%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98/" title="Git的使用及出现的问题"><img class="post-bg" src="/img/scenery_03.jpg" onerror="this.onerror=null;this.src='/img/error.png'" alt="Git的使用及出现的问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/12/30/Git%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98/" title="Git的使用及出现的问题">Git的使用及出现的问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-30T14:08:56.000Z" title="发表于 2024-12-30 22:08:56">2024-12-30</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-29T10:04:50.903Z" title="更新于 2025-03-29 18:04:50">2025-03-29</time></span></div><div class="content">Git 的使用及出现的问题

Git教程 Git Bash详细教程-CSDN博客
(´∇｀) 被你发现啦~ git与github常用教程 | Only My Ego (onecanx.github.io)

1. Git 基本命令
创建仓库
12初始化一个 git 仓库: git init克隆一个 git 仓库: git clone 仓库链接
设置用户名和邮箱
12git config --global user.name &quot;你的用户名&quot;git config --global user.email &quot;你的邮箱&quot;
添加文件和提交文件
123添加所有文件到缓存: git add . 添加某一文件到缓存: git add 文件名将缓存区内容添加到仓库中（-m 添加提交注释） git commit -m &quot;提交注释&quot;
查看更新状态
1234567查看相关文件的状态(只显示更新的状态): git statusModified: 已修改; Added: 已添加; Deleted: 已删除; Renamed: 重命名查看更新的详细信息(可以 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/12/26/%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%A5%E5%8F%8A%E5%9C%A8Qt%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/" title="本地安装MySQL数据库以及在Qt中的使用"><img class="post-bg" src="/img/scenery_03.jpg" onerror="this.onerror=null;this.src='/img/error.png'" alt="本地安装MySQL数据库以及在Qt中的使用"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/12/26/%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%A5%E5%8F%8A%E5%9C%A8Qt%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/" title="本地安装MySQL数据库以及在Qt中的使用">本地安装MySQL数据库以及在Qt中的使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-26T08:47:21.000Z" title="发表于 2024-12-26 16:47:21">2024-12-26</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-26T08:50:51.877Z" title="更新于 2024-12-26 16:50:51">2024-12-26</time></span></div><div class="content">本地安装MySQL数据库以及在Qt中的使用
本地安装 MySQL 过程
1. 安装 MySQL
下载地址：

MySQL 官网：https://dev.mysql.com/downloads/mysql/

Windows 可以选择两种：msi 和 zip，以下过程是 zip 方法：
2. 新建配置文件
1234567891011121314151617181920212223[mysqld]# 设置3306端口port=3306# 设置mysql的安装目录   ----------是你的文件路径-------------basedir=H:\mysql-9.1.0-winx64# 设置mysql数据库的数据的存放目录  ---------是你的文件路径data文件夹自行创建# 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错#datadir=H:\mysql-9.1.0-winx64\data# 允许最大连接数max_connections=200# 允许连接失败的次数。max_connect_errors=10# 服务端使用 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/12/21/%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%90%8E%E9%87%8D%E6%96%B0%E9%85%8D%E7%BD%AEhexo%E5%92%8Cdocsify%E7%8E%AF%E5%A2%83/" title="重装系统后重新配置hexo和docsify环境"><img class="post-bg" src="/img/scenery_01.webp" onerror="this.onerror=null;this.src='/img/error.png'" alt="重装系统后重新配置hexo和docsify环境"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/12/21/%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%90%8E%E9%87%8D%E6%96%B0%E9%85%8D%E7%BD%AEhexo%E5%92%8Cdocsify%E7%8E%AF%E5%A2%83/" title="重装系统后重新配置hexo和docsify环境">重装系统后重新配置hexo和docsify环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-21T13:59:07.000Z" title="发表于 2024-12-21 21:59:07">2024-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-24T09:24:05.709Z" title="更新于 2024-12-24 17:24:05">2024-12-24</time></span></div><div class="content">重装系统后重新配置hexo和docsify环境
序言
电脑重装系统后 hexo 和 docsify 环境没了，但还留着两个环境的本地目录，就不用重头来过了，只需要配置一下基础环境就可以继续玩耍了。
过程
1. 安装 git bash 和 Node.js
安装 git bash：

Git - Downloading Package (git-scm.com)

安装 node.js

Node.js — 在任何地方运行 JavaScript (nodejs.org)

查看版本：
12node -v npm -v
npm 换镜像源（镜像源找最新可用的）：
1npm config set registry https://registry.npmmirror.com

国内npm源镜像（npm加速下载） 指定npm镜像_npm 国内镜像-CSDN博客

2. 安装 hexo 和 docsify
安装 hexo 环境：
1npm install -g hexo
这时候在原来目录即可使用命令运行预览网站：
1hexo c &amp;&amp; hexo g &amp;&amp; hexo s ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/12/21/Qt-Android%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="Qt-Android环境搭建"><img class="post-bg" src="/img/scenery_11.jpg" onerror="this.onerror=null;this.src='/img/error.png'" alt="Qt-Android环境搭建"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/12/21/Qt-Android%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="Qt-Android环境搭建">Qt-Android环境搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-21T13:44:27.000Z" title="发表于 2024-12-21 21:44:27">2024-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-21T13:44:59.528Z" title="更新于 2024-12-21 21:44:59">2024-12-21</time></span></div><div class="content">Qt 安卓环境搭建
序言
Qt 开发 Android 需要 jdk、ndk、sdk 三个包，并且 Qt 的版本要与这些包的版本对应，否则会出现一堆奇怪的 bug，我的环境如下：

qt 版本：5.14.2
JDK：1.8.0_172
NDK：r20b
SDK：24.4.1

安装时注意安装目录不能有中文，这一点不用多说，网上有些说不能带空格，但我是直接使用默认安装目录的，而默认目录是有空格的，所以这个应该不是大问题，最终我使用默认目录也可以成功。
Qt 和 Android 版本依赖关系：

Getting Started with Qt for Android | Qt 5.15


搭建过程

Qt | Qt For Android、Qt5.14.2安卓开发环境搭建详细步骤_觉皇不秃头的技术博客_51CTO博客

1. 安装 qt
我选择的版本为：5.14.2，勾上 Android 组件，其他按需选择即可，
下载地址（这个可能需要开梯子，镜像源中没找到这个版本，所以我直接开梯子下载了）：

Index of /archive/qt/5.14/5.14.2

2. 安装 JAVA JD ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/25/%E6%90%AD%E5%BB%BATeamSpeak%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="搭建TeamSpeak服务器"><img class="post-bg" src="/img/background.jpg" onerror="this.onerror=null;this.src='/img/error.png'" alt="搭建TeamSpeak服务器"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/25/%E6%90%AD%E5%BB%BATeamSpeak%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="搭建TeamSpeak服务器">搭建TeamSpeak服务器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-25T08:18:47.000Z" title="发表于 2024-09-25 16:18:47">2024-09-25</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-26T13:21:21.942Z" title="更新于 2024-10-26 21:21:21">2024-10-26</time></span></div><div class="content">搭建TeamSpeak服务器
需要一台长时间开机以及拥有公网 IP 的电脑，因为没有公网 IP，所以这里就购买了云服务器进行搭建，经过价格对比最终选择了[腾讯云](腾讯云 产业智变·云启未来 - 腾讯 (tencent.com))服务器，初次购买优惠一年 79 元，2 核 2 G、系统盘 50 G、流量包 300 GB/月、带宽 4 Mbps。
Linux 环境安装服务器
准备工作
考虑到安全性，这里新建一个用户存放服务器文件：
1useradd teamspeak
下载和解压压缩包
123wget https://files.teamspeak-services.com/releases/server/3.13.7/teamspeak3-server_linux_amd64-3.13.7.tar.bz2tar -xvf teamspeak3-server_linux_amd64-3.13.7.tar.bz2
修改下目录名
1mv teamspeak3-server_linux_amd64-3.13.7 teamspeak3
赋予目录给新建的用户权限
12chown -R teamsp ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/24/Linux%E5%86%85%E6%A0%B8%E9%94%81%E6%9C%BA%E5%88%B6/" title="Linux内核锁机制"><img class="post-bg" src="/img/scenery_03.jpg" onerror="this.onerror=null;this.src='/img/error.png'" alt="Linux内核锁机制"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/24/Linux%E5%86%85%E6%A0%B8%E9%94%81%E6%9C%BA%E5%88%B6/" title="Linux内核锁机制">Linux内核锁机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-24T07:59:39.000Z" title="发表于 2024-08-24 15:59:39">2024-08-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-16T07:59:59.463Z" title="更新于 2024-09-16 15:59:59">2024-09-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/Linux/">Linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux-%E5%B5%8C%E5%85%A5%E5%BC%8F/">Linux 嵌入式</a></span></div><div class="content">Linux内核锁机制
Linux 并发与竞争
并发：Linux 系统是个多任务操作系统，会存在多个任务同时访问同一片内存空间，这些任务可能会相互覆盖这段内存中数据，造成内存数据混乱。
并发访问带来的问题就是竞争，竞争并发的执行单元对共享资源（硬件资源和软件上的全局变量）的访问而导致的竞争状态。因此我们需要对共享数据进行保护处理，防止多个任务同时访问它。
并发的原因一般有：

多线程并发访问：Linux 是多任务（线程）的系统，多线程访问是最基本的原因。
抢占式并发访问：Linux 内核支持抢占，调度程序可以在任意时刻抢占正在运行的线程，从而运行其他的线程。
中断程序并发访问：硬件中断的优先级很高。
SMP（多核）核间并发访问：多个 CPU 核存在核间并发访问。

临界资源：多个进程访问的资源，共享数据段。
临界区：多个进程访问的代码段。
Linux 内核锁机制
Linux 内核提供解决竞争的手段有如下几个方法：原子操作、自旋锁、信号量、互斥体。
原子操作
原子操作是指不能再进一步分割的操作，一般原子操作用于整型变量或者位操作
例如 C 语言中的整型变量 a 进行赋值操作，C 语言编译转 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/11/Linux-V4L2-USB-Camera/" title="Linux-V4L2-USB-Camera"><img class="post-bg" src="/img/scenery_01.webp" onerror="this.onerror=null;this.src='/img/error.png'" alt="Linux-V4L2-USB-Camera"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/11/Linux-V4L2-USB-Camera/" title="Linux-V4L2-USB-Camera">Linux-V4L2-USB-Camera</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-11T14:48:46.000Z" title="发表于 2024-08-11 22:48:46">2024-08-11</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-23T07:38:21.457Z" title="更新于 2024-08-23 15:38:21">2024-08-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/Linux/">Linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a></span></div><div class="content">Linux-V4L2-USB-Camera
序言
在 Linux 开发板上使用 V4L2 框架驱动 usb 摄像头。
V4L2 简述
V4L2（Video for Linux 2）是 Linux 内核中用于视频捕获设备的一个 API（应用程序编程接口），它提供了一套标准的方法来访问和控制视频捕获硬件，如摄像头、视频编码器等。
市面上有各种型号各种厂商的摄像头，驱动需要一个一个写很麻烦，于是出现了 v4l2 框架。现在大多数摄像头都适配 v4l2 框架，使用 v4l2 框架可以很方便地驱动各种接口的摄像头。
V4L2 在include/uapi/linux/videodev2.h 文件中定义了一些重要的数据结构，在采集图像的过程中，就是通过对这些数据的操作来获得最终的图像数据。
V4L2 支持两种方式来采集图像：内存映射方式(mmap)和直接读取方式(read)，前者一般用于连续视频数据的采集，后者常用于静态图片数据的采集，本次是用摄像头进行视频采集所以使用 mmap 的方式。
应用程序通过 V4L2 接口采集视频数据步骤：

打开视频设备文件(/dev/videoX)，进行视频采集的参 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/07/29/U-Boot%E7%9F%A5%E8%AF%86%E6%89%AB%E7%9B%B2/" title="U-Boot知识扫盲"><img class="post-bg" src="/img/scenery_11.jpg" onerror="this.onerror=null;this.src='/img/error.png'" alt="U-Boot知识扫盲"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/07/29/U-Boot%E7%9F%A5%E8%AF%86%E6%89%AB%E7%9B%B2/" title="U-Boot知识扫盲">U-Boot知识扫盲</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-29T05:57:40.000Z" title="发表于 2024-07-29 13:57:40">2024-07-29</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-05T15:23:54.071Z" title="更新于 2025-08-05 23:23:54">2025-08-05</time></span></div><div class="content">U-Boot知识扫盲
序言
U-Boot 是什么
BootLoader 是引导加载程序，uboot 是其中较为常用的一个， uboot 就是一个裸机程序，一般用为初始化硬件设备为启动系统做准备，一般主要工作是初始化 DDR，但是 IMX6ULL 的 DDR 不是在 uboot 实现的。
U-Boot 源码目录解析
分析前需要先编译 uboot 源码，才会生成一些文件，源码会有许多目录，一般我们只需要重点关注一下目录即可：


arch/：存放一些与架构相关的文件。


board/：board 目录是与具体的板子相关的，我们关注下面的 freescale 目录即可。


configs/：uboot 配置文件以 defconfig 结尾，不同板子对应不同配置文件，我们在编译 uboot 之前都是先输入命令 make xxx_defconfig 命令进行配置 uboot。


顶层目录下有 README 文件，该文件描述了 uboot 的详细信息和如何编译 uboot、uboot 中各目录的含义、相应的命令等。


arch/arm/cpu/u-boot.lds 是整个 uboot 的连 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.jpg" onerror="this.onerror=null;this.src='/null'" alt="avatar"/></div><div class="author-info__name">Obito</div><div class="author-info__description">保持初心</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">50</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/OBITOoaoa"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"><span class="card-category-list-name">图像处理</span><span class="card-category-list-count">5</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/opencv/"><span class="card-category-list-name">opencv</span><span class="card-category-list-count">5</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/"><span class="card-category-list-name">嵌入式</span><span class="card-category-list-count">16</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/stm32/"><span class="card-category-list-name">stm32</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="card-category-list-name">深度学习</span><span class="card-category-list-count">7</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/stm32/" style="font-size: 1.1em; color: #999">stm32</a> <a href="/tags/Linux-%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 1.23em; color: #999ea6">Linux 嵌入式</a> <a href="/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/" style="font-size: 1.1em; color: #999">路由器</a> <a href="/tags/esp32/" style="font-size: 1.1em; color: #999">esp32</a> <a href="/tags/opencv/" style="font-size: 1.37em; color: #99a4b2">opencv</a> <a href="/tags/Docker/" style="font-size: 1.1em; color: #999">Docker</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.1em; color: #999">虚拟机</a> <a href="/tags/Ubuntu/" style="font-size: 1.1em; color: #999">Ubuntu</a> <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 1.5em; color: #99a9bf">嵌入式</a> <a href="/tags/Openwrt/" style="font-size: 1.1em; color: #999">Openwrt</a> <a href="/tags/Linux/" style="font-size: 1.5em; color: #99a9bf">Linux</a> <a href="/tags/STM32/" style="font-size: 1.1em; color: #999">STM32</a> <a href="/tags/esp/" style="font-size: 1.1em; color: #999">esp</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">50</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-03-31T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">135.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-08-07T15:30:49.739Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/background.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Obito</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa-solid fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa-solid fa-arrow-rotate-right"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa-solid fa-arrow-right"></i></a><a class="rightMenu-item" id="menu-radompage" href="javascript:window.location.href = window.location.origin;"><i class="fa-solid fa-house"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa-solid fa-copy"></i><span>复制</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();"><i class="fa-solid fa-circle-half-stroke"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:toRandomPost();"><i class="fa-solid fa-bus"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();"><i class="fa-solid fa-book"></i><span>阅读模式</span></a><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + '/archives/';"><i class="fa-solid fa-archive"></i><span>文章归档</span></a><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + '/categories/';"><i class="fa-solid fa-folder-open"></i><span>文章分类</span></a><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + '/tags/';"><i class="fa-solid fa-tags"></i><span>文章标签</span></a><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + '/about-website/';"><i class="fa-solid fa-envelope-open-text"></i><span>网站声明</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('/pluginsSrc/typed.js/dist/typed.umd.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  getScript('https://yijuzhan.com/api/word.php?m=js').then(() => {
    const con = str[0]
    if (true) {
      const from = '出自 ' + str[1]
      const sub = []
      sub.unshift(con, from)
      typedJSFn.init(sub)
    } else {
      document.getElementById('subtitle').textContent = con
    }
  })
}
typedJSFn.run(subtitleType)
</script></div><canvas id="universe"></canvas><script src="/js/universe.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="/js/rightmenu.js"></script><script async src="/js/fps.js"></script><script src="/random.js"></script><script id="click-heart" src="/pluginsSrc/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script src="/pluginsSrc/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '113.34532,23.15624';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>